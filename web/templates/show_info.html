{% extends "layout.html" %}
{% block body %}
<!-- Table -->
{% for node in node_list %} 
    <table class="table table-bordered" >
        <tr> 
            <td colspan="7">
            <h4 align="center"> {{ node.name }} </h4>
            </td>
        <tr>
        <tr class="info"> 
            <th>Pid</th>
            <th>Name</th>
            <th>Group</th>
            <th>Uptime</th>
            <th>State name</th>
        {% for process in node.process_list%}
        <tr class="process_info">
            {% if process.pid==0 %}
                 <td> - </td>
            {% else  %}
                <td> {{ process.pid }} </td>
            {% endif  %}
            <td> {{ process.name }} </td>
            <td> {{ process.group }} </td>
            <td> {{ process.uptime }} </td>
        {% if process.state==0 or process.state==40 or process.state==100 or process.state==200 %}
            <td class="alert alert-danger"> {{ process.statename }} </td>
        {% elif process.state==10 or process.state==20 %}
            <td class="alert alert-success"> {{ process.statename }} </td>
        {% else %}
            <td class="alert alert-warning"> {{ process.statename }} </td>
        {% endif  %}
        {% if process.state==20  %}
            <td>
                <a class="btn btn-info btn-sm" href="/{{ node_name }}/{{ process.group  }}:{{ process.name }}/restart/json">restart</a>
            </td>
            <td>
                <a class="btn btn-info btn-sm" href="/{{ node.name }}/{{ process.group  }}:{{ process.name }}/stop/json">stop</a>
            </td>
        {% elif process.state==0  %}
            <td>
                <a class="btn btn-info btn-sm" href="/{{ node.name }}/{{ process.group  }}:{{ process.name }}/start/json">start</a>
            </td>
            <td>
                <a class="btn btn-info btn-sm disabled" href="#">stop</a>
            </td>
        {% endif  %}
        </tr>
        {% endfor %}
    </table>
{% endfor %}
{% endblock %}
